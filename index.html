<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindNote</title>
    <link rel="stylesheet" href="/lib/css/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/editor.md@1.5.0/css/editormd.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/editor.md@1.5.0/editormd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>
</head>
<body>
    <div id="app">
        <header>
            <div class="container">
                <h1><a href="/">MindNote</a></h1>
                <nav>
                    <ul>
                        <li><a href="#home" id="homeLink">编辑</a></li>
                        <li id="authSection">
                            <a href="#auth" id="authLink">登录</a>
                            <div id="userInfo" style="display: none;">
                                <a id="userAvatarLink" href="#" target="_blank">
                                    <img id="userAvatar" src="" alt="User Avatar">
                                </a>
                                <span id="userName"></span>
                                <button id="logoutButton" class="action-button">登出</button>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <div class="main-wrapper">
            <aside id="sidebar">
                <div class="sidebar-content">
                    <h3>文件列表</h3>
                    <ul id="fileList"></ul>
                </div>
            </aside>
            <main>
                <div class="container">
                    <article>
                        <div id="homePage">
                            <div class="action-buttons">
                                <div class="left-buttons">
                                    <button id="newNoteButton" class="action-button" title="新建文章">
                                        <iconify-icon icon="mdi:plus"></iconify-icon>
                                        新建文章
                                    </button>
                                    <button id="saveButton" class="action-button" title="保存到 GitHub" style="display: none;">
                                        <iconify-icon icon="mdi:send"></iconify-icon>
                                        保存
                                    </button>
                                    <button id="updateButton" class="action-button" title="更新文件" style="display: none;">
                                        <iconify-icon icon="mdi:update"></iconify-icon>
                                        保存更改
                                    </button>
                                </div>
                                <div class="right-buttons">
                                    <div class="file-input-container">
                                        <input type="text" id="fileNameInput" placeholder="输入文件名" title="请使用英文字母、数字和常见符号">
                                        <span class="file-name-hint">请勿使用中文文件名</span>
                                    </div>
                                    <button id="downloadButton" class="icon-button" title="下载文件">
                                        <iconify-icon icon="mdi:download"></iconify-icon>
                                    </button>
                                </div>
                            </div>
                            <div id="editor-container">
                                <div id="editor"></div>
                            </div>
                        </div>
                        <div id="authPage" class="hidden">
                            <h2>授权 MindNote</h2>
                            <div class="auth-steps">
                                <ol>
                                    <li>授权 MindNote 访问您的公共 GitHub 仓库。</li>
                                    <li>MindNote 在您的 GitHub 账户中创建一个名为 "mindnote-blog" 的公共仓库。</li>
                                    <li>您在 MindNote 上写的任何内容都会提交到这个仓库。</li>
                                    <li>您的数据存储在您的 GitHub 仓库中，与 MindNote 分开。</li>
                                </ol>
                            </div>
                            <button id="authorizeButton" class="action-button">
                                <iconify-icon icon="mdi:github"></iconify-icon>
                                使用 GitHub 登录
                            </button>
                        </div>
                    </article>
                </div>
            </main>
            <aside id="right-sidebar">
                <div class="sidebar-content">
                    <h3>文章结构</h3>
                    <ul id="tocList"></ul>
                </div>
            </aside>
        </div>
        <div id="loadingIndicator" class="loading-indicator hidden">
            <div class="spinner"></div>
            <p>正在处理...</p>
        </div>
    </div>
    <script src="/lib/js/app.js"></script>
</body>
</html>
